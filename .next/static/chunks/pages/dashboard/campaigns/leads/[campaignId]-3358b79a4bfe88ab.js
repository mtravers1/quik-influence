(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4428],{61058:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/campaigns/leads/[campaignId]",function(){return t(9799)}])},17184:function(e,n,t){"use strict";t.d(n,{Z:function(){return w}});var r=t(85893),a=t(20949),i=t(68527),o=t(83814),u=t(42341),l=t(82666),c=t(51436),s=t(17563),d=t(92814),p=t(67294),f=t(27030),y="FUZZY_TEXT_SEARCH",m="FULL_TEXT_SEARCH",g="OPTIONS_SEARCH",h="INTEGER_SEARCH",v="INTEGER_GREATER_THAN_SEARCH",x="INTEGER_LESS_THAN_SEARCH",b=[{name:"Email",type:m,key:"email",id:"email"},{name:"First name",type:y,key:"firstName",id:"firstName"},{name:"Last name",type:y,key:"lastName",id:"lastName"},{name:"Phone Number",type:y,key:"phone",id:"phone"},{name:"Address",type:y,key:"address",id:"address"},{name:"City",type:y,key:"city",id:"city"},{name:"Age",type:h,key:"age",id:"age"},{name:"Age greater than",type:v,key:"age",id:"age_greater"},{name:"Age less than",type:x,key:"age",id:"age_less"},{name:"State",type:y,key:"state",id:"state"},{name:"Zip Code",type:m,key:"postalCode",id:"postalCode"},{name:"Gender",type:g,key:"gender",options:[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Other",value:"other"}],id:"gender"}],j=t(11163);function k(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function C(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){C(e,n,t[n])}))}return e}function S(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return k(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return k(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=function(e){var n,t=e.selectedFilter,a=e.handleFilterValueChange,i=e.filterIndex;return t.type===g?(0,r.jsx)(f.Z,{onChange:function(e){return a(e,t,i)},options:t.options,placeholder:"Filter",selected:null!==(n=t.value)&&void 0!==n?n:""}):(0,r.jsx)(l.o,{name:t.name,handleChange:function(e){return a(e,t,i)},type:t.type===m||t.type===y?"text":"number",placeholder:t.name,value:t.value,TextInputProps:{padding:"0.4rem",fontSize:""}})},w=function(e){var n,t=e.setAllSelectedFilters,l=e.pageType,k=(0,a.If)().colorMode,C=(0,j.useRouter)(),w={type:"",options:[],name:"",value:"",key:"",id:""},A={fuzzy:{},match:{},integerGreater:{},integerLess:{},pageType:l},T=(0,p.useState)(!1),N=T[0],F=T[1],O=(0,p.useState)([w]),R=O[0],I=O[1],P=(0,p.useState)([{label:"",value:"",disabled:!1}]),Z=P[0],G=P[1],z=b.map((function(e){return{label:e.name,value:e.id,disabled:!1}}));(0,p.useEffect)((function(){G(z)}),[]),(0,p.useEffect)((function(){if(Object.keys(R).length&&R[0].value){var e=[];R.forEach((function(n){e.push(n.key)})),G((function(n){return n.map((function(n){return e.includes(n.value)?E({},n,{disabled:!0}):E({},n,{disabled:!1})}))}))}}),[R]);var H=function(e,n,t){var r=e.target.value;I((function(e){return e.map((function(e,t){return e===n?E({},e,{value:r}):e}))})),F(!0)};return(0,r.jsxs)(i.xu,{width:"350px",children:[(0,r.jsxs)(i.kC,{padding:"15px 20px",alignItems:"center",justifyContent:"space-between",w:"100%",bg:o.We[k],borderRadius:"10px 10px 0px 0px",marginBottom:"7px",children:[(0,r.jsx)(i.xu,{as:"h3",fontSize:"16px",color:o.ZP.greyDark,fontWeight:500,children:"Filter"}),(0,r.jsx)(i.xu,{as:"span",color:o.ZP.influenceRed,fontWeight:500,cursor:"pointer",onClick:function(){I([w]),G(z);var e=C.query;e.page="1",C.push("?".concat(s.stringify(e))),t(A)},children:"Clear"})]}),(0,r.jsxs)(i.xu,{bg:o.We[k],p:"12px",children:[R.map((function(e,n){return(0,r.jsxs)(i.kC,{justifyContent:"flex-start",width:"full",my:6,children:[(0,r.jsx)(i.xu,{width:"45%",pr:4,children:(0,r.jsx)(f.Z,{onChange:function(n){return function(e,n){var t=b.find((function(n){return n.id===e.target.value}));t&&(t.value="",I((function(e){return e.map((function(e){return e===n?t:e}))})),F(!1))}(n,e)},options:Z,placeholder:"Filter",noValue:!!(null===e||void 0===e?void 0:e.type),selected:(null===e||void 0===e?void 0:e.type)?e.id:""})}),(null===e||void 0===e?void 0:e.type)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.xu,{width:"45%",pr:2,children:(0,r.jsx)(_,{selectedFilter:e,handleFilterValueChange:H,filterIndex:n})}),(0,r.jsx)(i.xu,{as:"span",cursor:"pointer",margin:"auto",onClick:function(){return n=e,void I((function(e){return e.filter((function(e){return e!==n}))}));var n},children:(0,r.jsx)(d.G,{icon:c.NBC,style:{margin:"auto 5px"}})})]})]},n)})),(0,r.jsx)(i.xu,{as:"div",p:3,borderTop:"1px solid #ededed",mt:8,children:(0,r.jsxs)(i.xu,{onClick:N?function(){I((function(e){return S(e).concat([w])})),F(!1)}:function(){},as:N?"a":"p",cursor:N?"pointer":"default",color:N?"rgb(44 110 203)":"rgb(140 145 150)",children:[(0,r.jsx)(d.G,{icon:c.r8p,style:{margin:"auto 5px"}}),"Add Filter"]})}),(0,r.jsx)(u.Z,{bgColor:"light"===k?o.ZP.greyDarker:o.ZP.influenceRed,marginTop:"20px",marginBottom:"25px",type:"button",onClick:function(){R.forEach((function(e){var n=e.type,t=e.value,r=e.key;if(t)switch(n){case y:A.fuzzy[r]=t;break;case h:case g:case m:A.match[r]=t;break;case v:A.integerGreater[r]=t;break;case x:A.integerLess[r]=t}}));var e=C.query;e.page="1",C.push("?".concat(s.stringify(e))),t(A)},disabled:!(null===(n=R[0])||void 0===n?void 0:n.value),children:"Apply Filter"})]})]})}},9799:function(e,n,t){"use strict";t.r(n);var r=t(34051),a=t.n(r),i=t(85893),o=t(67294),u=t(25617),l=t(11163),c=t(51273),s=t(17184),d=t(19130),p=t(7586),f=t(17667),y=t(53329);function m(e,n,t,r,a,i,o){try{var u=e[i](o),l=u.value}catch(c){return void t(c)}u.done?n(l):Promise.resolve(l).then(r,a)}n.default=function(){var e=(0,u.v9)((function(e){return e.campaigns})).leads,n=(0,l.useRouter)(),t=(0,u.I0)(),r=n.query.campaignId,g=n.query.page,h=n.query.sc,v=n.query.pageSize||y.L8,x=e[r],b=(0,o.useState)(!x),j=b[0],k=b[1],C=function(){var e,n=(e=a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!0),t((0,p.Mu)(r,g,v)),k(!1);case 3:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){m(i,r,a,o,u,"next",e)}function u(e){m(i,r,a,o,u,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,o.useEffect)((function(){C()}),[g,v]),j?(0,i.jsx)(c.Z,{children:(0,i.jsx)(d.gl,{})}):(0,i.jsx)(c.Z,{filter:(0,i.jsx)(s.Z,{setAllSelectedFilters:function(){}}),children:(0,i.jsx)(f.Z,{leads:x,socialColumns:null===h||void 0===h?void 0:h.split(","),pageSize:v})})}}},function(e){e.O(0,[8523,8527,3588,3084,3061,5715,6345,5787,6636,2429,550,1273,9774,2888,179],(function(){return n=61058,e(e.s=n);var n}));var n=e.O();_N_E=n}]);